<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="portal_registration_list" name="Registrations">
        <t t-call="portal.portal_layout">
            <h1>Your Registrations</h1>
            <br/>
            <div class="mt-2 mb-2">
                <button type="button" id="btn-create-registration" class="btn btn-primary btn-lg"
                        onclick="window.location='/my/registrations/create'">
                    <i class="fa fa-plus"/>
                    <span>New</span>
                </button>
            </div>

            <br/>
            <t t-if="registrations" t-call="portal.portal_table">
                <thead>
                    <tr class="active">
                        <th>Name</th>
                        <th>Birthdate</th>
                        <th>Seminar?</th>
                        <th>Grade</th>
                        <th>Edit</th>
                        <th>Delete</th>
                    </tr>
                </thead>
                <t t-foreach="registrations" t-as="reg">
                    <tr>
                        <td>
                            <span t-field="reg.name"/>
                        </td>
                        <td>
                            <span t-field="reg.birthdate"/>
                        </td>
                        <td>
                            <t t-if="reg.seminar_participation">
                                <i class="fa fa-check"/>
                            </t>
                        </td>
                        <td>
                            <span t-field="reg.grade_description"/>
                        </td>
                        <td>
                            <a t-att-href="'/my/registrations/edit/%s' % reg.id">
                                <button type="button" class="btn btn-secondary">

                                    <i class="fa fa-pencil"/>

                                </button>
                            </a>
                        </td>
                        <td>
                            <a t-att-href="'/my/registrations/delete/%s' % reg.id">
                                <button type="button" class="btn btn-danger">
                                    <i class="fa fa-trash"/>
                                </button>
                            </a>
                        </td>
                    </tr>
                </t>
            </t>
            <t t-else="">
                <p>You have not registered any participants yet.</p>
            </t>
        </t>
    </template>

    <template id="portal_registration_form" name="title">
        <t t-call="portal.portal_layout">
            <h1>
                <t t-out="title"/>
            </h1>
            <form action="/my/registrations/save">

                <!-- Personal Information | Seminar Registration -->
                <div class="form-group mt-3 mb-3">
                    <!-- Header -->
                    <div class="row mt-2 mb-2">
                        <div class="col col-5">
                            <h2>Personal Information</h2>
                        </div>
                        <div class="col col-2"/>
                        <div class="col col-5">
                            <h2>Seminar Participation</h2>
                        </div>
                    </div>
                    <!-- Body - Edit -->
                    <t t-if="registration">
                        <!-- ID -->
                        <div class="row mt-2 mb-2">
                            <div class="col col-1">
                                <label for="registrationId">ID #</label>
                            </div>
                            <div class="col col-4">
                                <input id="registrationId" type="number" class="form-control from-control-plaintext"
                                       t-att-value="registration.id" name="registration_id" readonly="True"/>
                            </div>
                            <div class="col col-2"/>
                            <div class="col col-5"/>


                        </div>

                        <!-- Name | Participation -->
                        <div class="row mt-2 mb-2">
                            <div class="col col-1">
                                <label for="registrationName">Name</label>
                            </div>
                            <div class="col col-4">
                                <input id="registrationName" type="text" class="form-control" placeholder="Enter Name"
                                       name="registration_name" t-att-value="registration.name"/>
                            </div>

                            <div class="col col-2"/>

                            <div class="col col-3">
                                <label for="registrationSeminar">Participates in the Seminar?</label>
                            </div>
                            <div class="col col-2">
                                <input id="registrationSeminar" type="checkbox" class="form-check-input"
                                       name="registration_seminar_participation"
                                       checked="registration.seminar_participation"/>
                            </div>
                        </div>

                        <!-- Birthdate | Grade -->
                        <div class="row mt-2">
                            <div class="col col-1">
                                <label for="registrationBirthdate">Birthdate</label>
                            </div>
                            <div class="col col-4">
                                <input id="registrationBirthdate" type="date" class="form-control"
                                       name="registration_birthdate" t-att-value="registration.birthdate"/>
                            </div>

                            <div class="col col-2"/>

                            <div class="col col-3">
                                <label for="registrationGradeNumber">Grade (only for Seminar Participants)</label>
                            </div>
                            <div class="col col-1">
                                <select class="form-control form-select form-inline" id="registrationGradeNumber"
                                        name="registration_grade_number">
                                    <option t-att-value="registration.grade_number" checked="True">
                                        <span t-out="registration.grade_number"/>
                                        <span>.</span>
                                    </option>
                                    <t t-foreach="[1, 2, 3, 4, 5, 6, 7, 8, 9]" t-as="i">
                                        <option t-att-value="i">
                                            <span t-out="i"/>
                                            <span>.</span>
                                        </option>
                                    </t>
                                </select>
                            </div>
                            <div class="col col-1">
                                <select class="form-control form-select form-inline" id="registrationGradeLabel"
                                        name="registration_grade_label" t-att-value="registration.grade_label">
                                    <t t-if="registration.grade_label == 'KYU'">
                                        <option value="KYU" selected="True">Kyu</option>
                                        <option value="DAN">Dan</option>
                                    </t>
                                    <t t-else="">
                                        <option value="KYU">Kyu</option>
                                        <option value="DAN" selected="True">Dan</option>
                                    </t>
                                </select>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col col-5"/>
                            <div class="col col-2"/>
                            <div class="col col-5">
                                <small id="gradeHelp" class="form-text text-muted">
                                    If the person does not participate in the seminar, leave the default values (i.e.,
                                    1. Kyu).
                                </small>
                            </div>

                        </div>

                    </t>

                    <t t-else="">
                        <!-- ID -->
                        <div class="row mt-2 mb-2">
                            <div class="col col-1">
                                <label for="registrationId">ID #</label>
                            </div>
                            <div class="col col-4">
                                <input id="registrationId" type="number" class="form-control from-control-plaintext"
                                       value="-1" name="registration_id" readonly="True"/>
                            </div>
                            <div class="col col-2"/>
                            <div class="col col-5"/>


                        </div>

                        <!-- Name | Participation -->
                        <div class="row mt-2 mb-2">
                            <div class="col col-1">
                                <label for="registrationName">Name</label>
                            </div>
                            <div class="col col-4">
                                <input id="registrationName" type="text" class="form-control" placeholder="Enter Name"
                                       name="registration_name"/>
                            </div>

                            <div class="col col-2"/>

                            <div class="col col-3">
                                <label for="registrationSeminar">Participates in the Seminar?</label>
                            </div>
                            <div class="col col-2">
                                <input id="registrationSeminar" type="checkbox" class="form-check-input"
                                       name="registration_seminar_participation"/>
                            </div>
                        </div>

                        <!-- Birthdate | Grade -->
                        <div class="row mt-2">
                            <div class="col col-1">
                                <label for="registrationBirthdate">Birthdate</label>
                            </div>
                            <div class="col col-4">
                                <input id="registrationBirthdate" type="date" class="form-control"
                                       name="registration_birthdate"/>
                            </div>

                            <div class="col col-2"/>

                            <div class="col col-3">
                                <label for="registrationGradeNumber">Grade (only for Seminar Participants)</label>
                            </div>
                            <div class="col col-1">
                                <select class="form-control form-select form-inline" id="registrationGradeNumber"
                                        name="registration_grade_number">
                                    <option value="1">1.</option>
                                    <option value="2">2.</option>
                                    <option value="3">3.</option>
                                    <option value="4">4.</option>
                                    <option value="5">5.</option>
                                    <option value="6">6.</option>
                                    <option value="7">7.</option>
                                    <option value="8">8.</option>
                                    <option value="9">9.</option>
                                </select>
                            </div>
                            <div class="col col-1">
                                <select class="form-control form-select form-inline" id="registrationGradeLabel"
                                        name="registration_grade_label">
                                    <option value="KYU">Kyu</option>
                                    <option value="DAN">Dan</option>
                                </select>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col col-5"/>
                            <div class="col col-2"/>
                            <div class="col col-5">
                                <small id="gradeHelp" class="form-text text-muted">
                                    If the person does not participate in the seminar, leave the default values (i.e.,
                                    1. Kyu).
                                </small>
                            </div>

                        </div>
                    </t>
                </div>


                <button class="btn btn-primary" type="submit">Save</button>

            </form>
        </t>
    </template>

</odoo>